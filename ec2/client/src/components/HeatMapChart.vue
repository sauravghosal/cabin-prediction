<template>
   <div id="chart">
        <apexchart type="heatmap" height="450" :options="chartOptions" :series="series"></apexchart>
  </div>
</template>

<script>
import VueApexCharts from "vue3-apexcharts";

export default {
  name: 'HeatMapChart',
  components: {
    apexchart: VueApexCharts,
  },
  data() {
    return {
          series: [{
              name: 'Jan',
              data: this.generateData(20, {
                min: -30,
                max: 55
              })
            },
            {
              name: 'Feb',
              data: this.generateData(20, {
                min: -30,
                max: 55
              })
            },{
              name: 'Mar',
              data: this.generateData(20, {
                min: -30,
                max: 55
              })
            },{
              name: 'Apr',
              data: this.generateData(20, {
                min: -30,
                max: 55
              })
            }],
          chartOptions: {
            chart: {
              height: 450,
              type: 'heatmap',
            },
            dataLabels: {
              enabled: false
            },
            xaxis: {
              type: 'category',
              categories: ['10:00', '10:30', '11:00', '11:30', '12:00', '12:30', '01:00', '01:30']
            },
            title: {
              text: 'HeatMap Chart (Different color shades for each series)'
            },
            grid: {
              padding: {
                right: 20
              }
            }
          },
      }
  },
  created() {
    this.fetchData()
  },
  methods: {
    fetchData() {
      let url = new URL('http://127.0.0.1:5000/api')
      url.search = new URLSearchParams({start_date: '10-10-2019', end_date: '11-10-2019', cabin: 'Smoky Mountain Lodge'}).toString();
      fetch(url).then(res => res.json()).then(data => console.log(data))
    },
    sampleData() {
      return {
    "10-10-2019": "111111000110111110000001111001110111111011111100111110001111111111100000011111000111111110000000000011100001100000000000000000000000000000000111000000000001111000000000001110000000",
    "10-11-2019": "111110001101111100000011110011101111110111111001111100011111111111000000111110001111111100000000000111000011000000000000000000000000000000001110000000000011110000000000011100000000",
    "10-12-2019": "111100011011111000000111100111011111101111110011111000111111111110000001111100011111111000000000001110000110000000000011100000000000000000011100000000000111100000000000111000000000",
    "10-13-2019": "111000110111110000001111001110111111011111100111110001111111111100000011111000111111110000000000011100001100000000000111000000000000000000111000000000001111000000000001110000000000",
    "10-14-2019": "110001101111100000011110011101111110111111001111100011111111111000000111110001111111100000000000111000011000000000001110000000000000000001110000000000011110000000000011100000000000",
    "10-15-2019": "100011011111000000111100111011111101111110011111000111111111110000001111100011111111000000000001110000110000000000011100000000000000000011100000000000111100000000000111000000000000",
    "10-16-2019": "000110111110000001111001110111111011111100111110001111111111100000011111000111111110000000000011100001100000000000111000000000000000000111000000000001111000000000001110000000000000",
    "10-17-2019": "000001111100000011110011101111110111111001111100011111111111000000111110001111111100000000000111000011000000000001110000000000000000001110000000000011110000000000011100000000000001",
    "10-18-2019": "111011111000000111100111011111101111110011111000111111111110000001111100011111111000000000001110000110000000000011100000000000000000011100000000000111100000000000111000000000000011",
    "10-19-2019": "110111110000001111001110111111011111100111110001111111111100000011111000111111110000000000011100001100000000000111000000000000000000111000000000001111000000000001110000000000000111",
    "10-20-2019": "101111100000011110011101111110111111001111100011111111111000000111110001111111100011111000111000011000000000001110000000000000000001110000000000011110000000000011100000000000001111",
    "10-21-2019": "011111000000111100111011111101111110011111000111111111110000001111100011111111000111110001110000110000000000011100000000000000000011100000000000111100000000000111000000000000011111",
    "10-22-2019": "000000000001111001110111111011111100111110001111111111100000011111000111111110001111100011100001100000000000111000000000000000000111000000000001111000000000001110000000000000111111",
    "10-23-2019": "000110000011110011101111110111111001111100011111111111000000111110001111111100011111000111000011000000000001110000000000000000001110000000000011110001100000011100000000000001111110",
    "10-24-2019": "001100000111100111011111101111110011111000111111111110000001111100011111111000111110001110000110000000000011100000000000000000011100000000000111100011000000111000000000000011111100",
    "10-25-2019": "011000001111001110111111011111100111110001111111111100000011111000111111110001111100011100001100000000000111000000000000000000111000000000001111000110000001110000000000000111111000",
    "10-26-2019": "110000011110011101111110111111001111100011111111111000000111110001111111100011111000111000011000000000001110000000000000000001110000000000011110001100000011100000000000001111110000",
    "10-27-2019": "100000111100111011111101111110011111000111111111110000001111100011111111000111110001110000110000000000011100000000000000000011100000000000111100011000000111000000000000011111100000",
    "10-28-2019": "000001111001110111111011111100111110001111111111100000011111000111111110001111100011100001100000000000111000000000000000000111000000000001111000110000001110000000000000111111000001",
    "10-29-2019": "000011110011101111110111111001111100011111111111000000111110001111111100011111000111000011000000000001110000000000000000001110000000000011110001100000011100000000000001111110000011",
    "10-30-2019": "000111100111011111101111110011111000111111111110000001111100011111111000111110001110000110000000000000000011110001100000011100000000000001111000110000001110000000000000111111000001",
    "10-31-2019": "00000111111111110000001111100011100011111111111000000111110001111111100011111000111000011000000000000000001111000111110001110000000000000111100011111000111000",
    "11-01-2019": "111100111011111101111110011111000111111111110000001111100011111111000111110001110000110000000000011100000000000000000011100000000000111100011111000111000000000000011111100000111000",
    "11-02-2019": "111100111011111101111110011111000111111111110000001111100011111111000111110001110000110000000000011100000000000000000011100000000000111100011111000111000000000000011111100000111000",
    "11-03-2019": "111001110111111011111100111110001111111111100000011111000111111110001111100011100001100000000000111000000000000000000111000000000001111000111110001110000000000000111111000001110000",
    "11-04-2019": "110011101111110111111001111100011111111111000000111110001111111100011111000111000011000000000001110000000000000000001110000000000011110001111100011100000000000001111110000011100000",
    "11-05-2019": "100111011111101111110011111000111111111110000001111100011111111000111110001110000110000000000011100000000000000000011100000000000111100011111000111000000000000011111100000111000000",
    "11-06-2019": "001110111111011111100111110001111111111100000011111000111111110001111100011100001100000000000111000000000000000000111000000000001111000111110001110000011111110111111000001110000000",
    "11-07-2019": "011101111110111111001111100011111111111000000111110001111111100011111000111000011000000000001110000000000000000001110000000000011110001111100011100000111111101111110000011100000000",
    "11-08-2019": "111011111101111110011111000111111111110000001111100011111111000111110001110000110000000000011100000000000000000011100000000000111100011111000111000001111111011111100000111000000000",
    "11-09-2019": "110111111011111100111110001111111111100000011111000111111110001111100011100001100000000000111000000000000000000111000000000001111000111110001110000011111110111111000001110000000000",
    "11-10-2019": "101111110111111001111100011111111111000000111110001111111100011111000111000011000000000001110000000000000000001110000000000011110001111100011100000111111101111110000011100000000000"
      }
    },          
    generateData(count, yrange) {
    var i = 0;
    var series = [];
    while (i < count) {
      var x = (i + 1).toString();
      var y = Math.floor(Math.random() * (yrange.max - yrange.min + 1)) + yrange.min;
  
      series.push({
        x: x,
        y: y
      });
      i++;
    }
    return series;
  }
  }
}
</script>

<!-- Add "scoped" attribute to limit CSS to this component only -->
<style scoped>
h3 {
  margin: 40px 0 0;
}
ul {
  list-style-type: none;
  padding: 0;
}
li {
  display: inline-block;
  margin: 0 10px;
}
a {
  color: #42b983;
}
</style>
